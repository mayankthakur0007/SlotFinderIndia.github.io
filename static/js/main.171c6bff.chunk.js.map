{"version":3,"sources":["Header.jsx","SearchForm.jsx","Results.jsx","App.js","index.js"],"names":["Header","SearchForm","props","useState","districtsData","districtDataChanged","districts","districtchanged","stateData","stateDataChanged","states","statechanged","selectedDistrict","selectedDistrictchanged","id","onSubmit","e","preventDefault","currentDate","Date","dd","getDate","mm","getMonth","getFullYear","axios","get","then","response","onResult","data","centers","console","log","className","options","onChange","filter","state","state_name","value","state_id","map","district","district_name","onFocus","placeholder","district_id","type","Results","newDate","compareDates","week","i","push","date","toDateString","compareDate","CenterData","details","datesData","dates","sessions","list","center_id","center_name","name","center_block","block_name","center_state","center_pincode","pincode","center_district","center_address","address","center_fee","fee_type","slots","day","centerinfo","index","slot","available_capacity","available_capacity_dose1","available_capacity_dose2","min_age_limit","vaccine","session_id","App","results","resultsChanged","showResults","showResultsChanged","result","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.171c6bff.chunk.js","sourcesContent":["import Strings from \"./Strings\";\n\nconst Header = () => {\n    return (\n        <div>\n            <h2>Covid Vaccine Slot Finder India (For All Ages)</h2>\n        </div>\n    )\n}\n\nexport default Header;","import Strings from \"./Strings\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./Styles.css\";\n\nconst SearchForm = (props) => {\n  let [districtsData,districtDataChanged] = useState([]);\n  let [districts,districtchanged] = useState([]);\n  let [stateData,stateDataChanged] = useState([]);\n  let [states,statechanged] = useState([]);\n  let [selectedDistrict,selectedDistrictchanged] = useState('');\n\n  const onStateChange = (e) => {\n    let id = stateData.filter((state)=>{\n      if(state.state_name === e.value){\n        return state;\n      }\n    })[0].state_id;\n    axios\n      .get(`https://cdn-api.co-vin.in/api/v2/admin/location/districts/${id}`)\n      .then((response) => {\n        districtDataChanged(response.data.districts);\n        districtchanged(\n          response.data.districts.map((district) => {\n            return district.district_name;\n          })\n        );\n      })\n  };\n\n  const onDistrictChange = (e) => {\n    let id = districtsData.filter((district) => {\n      if (district.district_name === e.value) {\n        return district;\n      }\n    })[0].district_id;\n    selectedDistrictchanged(id);\n  };\n\n  const onSearch = (e) => {\n    e.preventDefault();\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    let mm = currentDate.getMonth()+1;\n    if (dd < 10) {\n      dd = \"0\" + dd;\n    }\n\n    if (mm < 10) {\n      mm = \"0\" + mm;\n    }\n    currentDate = `${dd}-${mm}-${currentDate.getFullYear()}`;\n    if (selectedDistrict !== \"\") {\n      axios\n        .get(\n          `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${selectedDistrict}&date=${currentDate}`\n        )\n        .then((response) => {\n          props.onResult(response.data.centers)\n        });\n    } else {\n      console.log(\"validation error\");\n    }\n  };\n\n  const onFocuses = () => {\n    axios\n      .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\")\n      .then((response) => {\n        stateDataChanged(response.data.states);\n        statechanged(\n          response.data.states.map((state) => {\n            return state.state_name;\n          })\n        );\n      })\n  };\n\n  return (\n    <div>\n      <form id=\"districtselector\" onSubmit={onSearch}>\n        <div className=\"mar_small\">\n      <Dropdown\n        options={states}\n        onChange={onStateChange}\n        onFocus={onFocuses}\n        placeholder=\"Select State\"\n      />\n      </div>\n      <div className=\"mar_small\">\n      <Dropdown\n         options={districts}\n        onChange={onDistrictChange}\n        placeholder=\"Select District\"\n      />\n      </div>\n      <button type=\"submit\" className=\"mar_small\">Search</button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","import \"./Styles.css\";\n\nconst Results = (props) => {\n  let currentDate = new Date();\n  let newDate, compareDates;\n  let week = [];\n  for (var i = 0; i <= 6; i++) {\n    newDate = new Date(\n      currentDate.getFullYear(),\n      currentDate.getMonth(),\n      currentDate.getDate() + i\n    );\n    let dd = currentDate.getDate() + i;\n    let mm = currentDate.getMonth() + 1;\n    if(dd<10){\n      dd= '0'+dd;\n    }\n    if(mm<10){\n      mm= '0'+mm;\n    }\n    compareDates = `${dd}-${mm}-${currentDate.getFullYear()}`\n    week.push({date:newDate.toDateString(),id:i,compareDate:compareDates});\n  }\n  \n  let CenterData = props.data.map((details)=>{\n\n    let datesData = week.map((dates)=>{\n      return details.sessions.filter((list)=>{\n        return list.date===dates.compareDate\n      })\n    })\n\n    datesData = datesData.map((dates)=> dates[0])\n      \n    return {\n      center_id: details.center_id,\n      center_name: details.name,\n      center_block: details.block_name,\n      center_state: details.state_name,\n      center_pincode: details.pincode,\n      center_district: details.district_name,\n      center_address: details.address,\n      center_fee: details.fee_type,\n      slots: datesData\n    }\n  });\n\n  return (\n    <div>\n      <h2>Results</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>Center Name</th>\n            {week.map((day) => (\n              <th key={day.id}>{day.date}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {CenterData.map((centerinfo,index) => (\n            <tr key={centerinfo.center_id}>\n              <td className=\"centers\">\n                {centerinfo.center_name}<br />\n                <span>\n                  {centerinfo.center_address},{centerinfo.center_district},\n                  {centerinfo.center_state}({centerinfo.center_pincode})\n                </span>\n              </td>\n              {centerinfo.slots.map((slot) => {\n                return slot ? (\n                  <td key={slot.session_id}>\n                    <div className=\"flexbox\">\n                      <div\n                        className={\n                          slot.available_capacity > 0\n                            ? \"capacity_available\"\n                            : \"booked\"\n                        }\n                      >\n                        <p>\n                          {slot.available_capacity > 0\n                            ? slot.available_capacity\n                            : \"Booked\"}\n                        </p>\n                      </div>\n                      <div className=\"doses\">\n                        <div className=\"dose1\">\n                          dose1: {slot.available_capacity_dose1}\n                        </div>\n                        <div className=\"dose2\">\n                          dose2: {slot.available_capacity_dose2}\n                        </div>\n                      </div>\n                      <div>\n                        <p className={centerinfo.center_fee===\"Free\"? \"free\": \"paid\"}>\n                          {centerinfo.center_fee}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"paid\">Age Limit: {slot.min_age_limit}+</p>\n                      </div>\n                      <div>\n                      <p>{slot.vaccine}</p>\n                      </div>\n                    </div>\n                  </td>\n                ) : (\n                  <td>\n                    <h4 key={index}>NA</h4>\n                  </td>\n                );\n              })}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Results;","import { useState } from \"react\";\nimport Header from \"./Header\"\nimport SearchForm from \"./SearchForm\";\nimport Results from \"./Results\";\n\nfunction App() {\n\nconst [results,resultsChanged] = useState([]);\nconst [showResults,showResultsChanged] = useState(false);\n\nconst resultFetched = (result) => {\n  resultsChanged(result);\n  showResultsChanged(true);\n}\n\n  return (\n    <div>\n      <Header />\n      <SearchForm onResult = {resultFetched}/>\n      {showResults? <Results data= {results} />: null}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}