(this["webpackJsonpslot-finder-india"]=this["webpackJsonpslot-finder-india"]||[]).push([[0],{15:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(16),s=c.n(i),r=c(3),d=c(0),l=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h2",{children:"Covid Vaccine Slot Finder India (For All Ages)"})})},o=c(6),j=c.n(o),b=(c(23),c(4)),u=c.n(b),h=(c(15),function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)([]),l=Object(r.a)(s,2),o=l[0],b=l[1],h=Object(n.useState)([]),O=Object(r.a)(h,2),p=O[0],m=O[1],x=Object(n.useState)([]),v=Object(r.a)(x,2),_=v[0],f=v[1],g=Object(n.useState)(""),S=Object(r.a)(g,2),N=S[0],D=S[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{id:"districtselector",onSubmit:function(t){t.preventDefault();var c=new Date,n=c.getDate(),a=c.getMonth()+1;n<10&&(n="0"+n),a<10&&(a="0"+a),c="".concat(n,"-").concat(a,"-").concat(c.getFullYear()),""!==N?u.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(N,"&date=").concat(c)).then((function(t){e.onResult(t.data.centers)})):console.log("validation error")},children:[Object(d.jsx)("div",{className:"mar_small",children:Object(d.jsx)(j.a,{options:_,onChange:function(e){var t=p.filter((function(t){if(t.state_name===e.value)return t}))[0].state_id;u.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(t)).then((function(e){i(e.data.districts),b(e.data.districts.map((function(e){return e.district_name})))}))},onFocus:function(){u.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){m(e.data.states),f(e.data.states.map((function(e){return e.state_name})))}))},placeholder:"Select State"})}),Object(d.jsx)("div",{className:"mar_small",children:Object(d.jsx)(j.a,{options:o,onChange:function(e){var t=a.filter((function(t){if(t.district_name===e.value)return t}))[0].district_id;D(t)},placeholder:"Select District"})}),Object(d.jsx)("button",{type:"submit",className:"mar_small",children:"Search"})]})})}),O=function(e){for(var t,c,n=new Date,a=[],i=0;i<=6;i++){t=new Date(n.getFullYear(),n.getMonth(),n.getDate()+i);var s=n.getDate()+i,r=n.getMonth()+1;s<10&&(s="0"+s),r<10&&(r="0"+r),c="".concat(s,"-").concat(r,"-").concat(n.getFullYear()),a.push({date:t.toDateString(),id:i,compareDate:c})}var l=e.data.map((function(e){var t=a.map((function(t){return e.sessions.filter((function(e){return e.date===t.compareDate}))}));return t=t.map((function(e){return e[0]})),{center_id:e.center_id,center_name:e.name,center_block:e.block_name,center_state:e.state_name,center_pincode:e.pincode,center_district:e.district_name,center_address:e.address,center_fee:e.fee_type,slots:t}}));return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Results"}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Center Name"}),a.map((function(e){return Object(d.jsx)("th",{children:e.date},e.id)}))]})}),Object(d.jsx)("tbody",{children:l.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{className:"centers",children:[e.center_name,Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:[e.center_address,",",e.center_district,",",e.center_state,"(",e.center_pincode,")"]})]}),e.slots.map((function(c){return c?Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"flexbox",children:[Object(d.jsx)("div",{className:c.available_capacity>0?"capacity_available":"booked",children:Object(d.jsx)("p",{children:c.available_capacity>0?c.available_capacity:"Booked"})}),Object(d.jsxs)("div",{className:"doses",children:[Object(d.jsxs)("div",{className:"dose1",children:["dose1: ",c.available_capacity_dose1]}),Object(d.jsxs)("div",{className:"dose2",children:["dose2: ",c.available_capacity_dose2]})]}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"Free"===e.center_fee?"free":"paid",children:e.center_fee})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{className:"paid",children:["Age Limit: ",c.min_age_limit,"+"]})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:c.vaccine})})]})},c.session_id):Object(d.jsx)("td",{children:Object(d.jsx)("h4",{children:"NA"},t)})}))]},e.center_id)}))})]})]})};var p=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(r.a)(i,2),o=s[0],j=s[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{}),Object(d.jsx)(h,{onResult:function(e){a(e),j(!0)}}),o?Object(d.jsx)(O,{data:c}):null]})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.171c6bff.chunk.js.map